@startuml

class "model.Complexity" {
  + Cognitive: int
  + Cyclomatic: int
  + Lines: int
  + Coverage: float64
}

class "model.Declaration" {
  + Kind: DeclarationKind
  + Type: string
  + File: string
  + Line: int
  + SelfContained: bool
  + Imports: []string
  + References: StringSet
  + Globals: StringSet
  + Doc: string
  + Name: string
  + Names: []string
  + Receiver: string
  + Fields: FieldList
  + Arguments: []string
  + Returns: []string
  + Signature: string
  + Source: string
  + Complexity: *Complexity
  + Equal (in *Declaration) bool
  + GetNames () []string
  + HasName (find string) bool
  + HasReceiver () bool
  + IsExported () bool
  + Keys () []string
  + ReceiverTypeRef () string
  + Ref (pkg *Package) []Ref
  + TypeRef () string
}

class "model.DeclarationList" {
  - type: []*Declaration
  + Append (in ...*Declaration)
  + AppendUnique (in ...*Declaration)
  + ClearNonTestFiles ()
  + ClearSource ()
  + ClearTestFiles ()
  + Sort ()
  + Exported () DeclarationList
  + Filter (matchfn func(d *Declaration) bool) DeclarationList
  + Find (matchfn func(d *Declaration) bool) *Declaration
  + Walk (matchfn func(d *Declaration))
}

class "model.Definition" {
  + Doc: string
  + Imports: StringSet
  + InitCount: int
  + Types: DeclarationList
  + Consts: DeclarationList
  + Vars: DeclarationList
  + Funcs: DeclarationList
  + ClearNonTestFiles ()
  + ClearSource ()
  + ClearTestFiles ()
  + DeclarationList () DeclarationList
  + Fill ()
  + Merge (in *Definition)
  + Order () DeclarationList
  + Sort ()
}

class "model.DefinitionList" {
  - type: []*Definition
  + Filter (matchfn func(d *Definition) bool) []*Definition
  + Find (matchfn func(d *Definition) bool) *Definition
  + Walk (matchfn func(d *Definition))
}

class "model.Field" {
  + Name: string
  + Type: string
  + Path: string
  + Doc: string
  + Comment: string
  + Tag: string
  + JSONName: string
  + MapKey: string
  + TypeRef () string
}

class "model.FieldList" {
  - type: []*Field
}

class "model.Package" {
  + ID: string
  + Package: string
  + ImportPath: string
  + Path: string
  + TestPackage: bool
  + Complexity: *Complexity
  + Pkg: *packages.Package
  + Equal (in Package) bool
  + Name () string
  + Namespace (suffix string) string
  + String () string
}

class "model.Ref" {
  + Package: *Package
  + Receiver: string
  + Name: string
  + String () string
}

class "model.StringSet" {
  - type: map[string][]string
  + Add (key string, lits ...string)
  + Keys () []string
  + All () []string
  + Get (key string) []string
  + Map (imports []string) (map[string]string, []error)
}


"model.Declaration" --> "model.DeclarationKind" : .Kind
"model.Declaration" --> "model.StringSet" : .References
"model.Declaration" --> "model.StringSet" : .Globals
"model.Declaration" --> "model.FieldList" : .Fields
"model.Declaration" --> "model.Complexity" : .Complexity

"model.DeclarationList" --> "model.Declaration" : .type

"model.Definition" --|> "model.Package" : embeds
"model.Definition" --> "model.StringSet" : .Imports
"model.Definition" --> "model.DeclarationList" : .Types
"model.Definition" --> "model.DeclarationList" : .Consts
"model.Definition" --> "model.DeclarationList" : .Vars
"model.Definition" --> "model.DeclarationList" : .Funcs

"model.DefinitionList" --> "model.Definition" : .type


"model.FieldList" --> "model.Field" : .type

"model.Package" --> "model.Complexity" : .Complexity

"model.Ref" --> "model.Package" : .Package



@enduml
